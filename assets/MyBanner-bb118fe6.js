import{f as F,u as T,g as e,w as i,h as m,i as U,o as r,c as a,a as n,n as j,j as w,t as c,k as _,l as D,_ as $}from"./app-e8799a1e.js";const B="https://v1.hitokoto.cn/";async function L(l){const u=l==null?void 0:l.toString(),o=u?`${B}?${u}`:B;return(await fetch(o)).json()}const N={class:"banner"},R={class:"banner__hero-wrapper"},V={class:"banner__hero"},z={class:"banner__hero__img"},E=["src","alt"],W={class:"text"},q={class:"author"},A={key:1,class:"banner__hero__content"},G={key:0,class:"title"},J={key:1,class:"desc"},K=F({__name:"MyBanner",setup(l){const o=T().value.myBanner,v=e(()=>o.heroImg?i(o.heroImg):i("/hero.jpg")),I=e(()=>o.bgImg?i(o.bgImg):i("/bg.svg")),h=e(()=>o.title),d=e(()=>o.desc),x=e(()=>!!(h.value??d.value)),C=e(()=>!!h.value),M=e(()=>!!d.value),g=m(""),f=m(""),k=m(""),p=e(()=>!!o.hitokoto),y=e(()=>{const s=o.hitokoto;if(!(typeof s=="boolean"||s===void 0))return new URLSearchParams(s)});function b(s){L(s).then(t=>{g.value=t.hitokoto,f.value=t.from||"",k.value=t.from_who||""}).catch(t=>console.log(t))}const H=D(()=>{b(y.value)},1e3);return U(()=>{p&&b(y.value)}),(s,t)=>(r(),a("div",N,[n("div",{class:"banner__bg",style:j({backgroundImage:`url(${I.value})`})},null,4),n("div",R,[n("div",V,[n("div",z,[n("img",{src:v.value,alt:v.value},null,8,E)]),p.value?(r(),a("div",{key:0,class:"banner__hero__hitokoto",onClick:t[0]||(t[0]=(...S)=>w(H)&&w(H)(...S))},[n("div",W,c(g.value),1),n("div",q,"——"+c(k.value)+"「"+c(f.value)+" 」",1)])):_("v-if",!0),x.value?(r(),a("div",A,[C.value?(r(),a("div",G,c(h.value),1)):_("v-if",!0),M.value?(r(),a("div",J,c(d.value),1)):_("v-if",!0)])):_("v-if",!0)])])]))}});const Q=$(K,[["__scopeId","data-v-b97d7f46"],["__file","MyBanner.vue"]]);export{Q as default};
