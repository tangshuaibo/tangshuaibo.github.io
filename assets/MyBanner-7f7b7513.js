import{f as M,u as T,g as e,w as l,h as m,o as r,c as a,a as n,n as U,i as w,t as c,j as _,k as j,_ as D}from"./app-82f0dbc7.js";const B="https://v1.hitokoto.cn/";async function $(i){const u=i==null?void 0:i.toString(),o=u?`${B}?${u}`:B;return(await fetch(o)).json()}const L={class:"banner"},N={class:"banner__hero-wrapper"},R={class:"banner__hero"},V={class:"banner__hero__img"},z=["src","alt"],E={class:"text"},W={class:"author"},q={key:1,class:"banner__hero__content"},A={key:0,class:"title"},G={key:1,class:"desc"},J=M({__name:"MyBanner",setup(i){const o=T().value.myBanner,v=e(()=>o.heroImg?l(o.heroImg):l("/hero.jpg")),I=e(()=>o.bgImg?l(o.bgImg):l("/bg.svg")),h=e(()=>o.title),d=e(()=>o.desc),x=e(()=>!!(h.value??d.value)),C=e(()=>!!h.value),S=e(()=>!!d.value),g=m(""),f=m(""),k=m(""),p=e(()=>!!o.hitokoto),y=e(()=>{const s=o.hitokoto;if(!(typeof s=="boolean"||s===void 0))return new URLSearchParams(s)});function b(s){$(s).then(t=>{g.value=t.hitokoto,f.value=t.from||"",k.value=t.from_who||""}).catch(t=>console.log(t))}const H=j(()=>{b(y.value)},1e3);return p&&b(y.value),(s,t)=>(r(),a("div",L,[n("div",{class:"banner__bg",style:U({backgroundImage:`url(${I.value})`})},null,4),n("div",N,[n("div",R,[n("div",V,[n("img",{src:v.value,alt:v.value},null,8,z)]),p.value?(r(),a("div",{key:0,class:"banner__hero__hitokoto",onClick:t[0]||(t[0]=(...F)=>w(H)&&w(H)(...F))},[n("div",E,c(g.value),1),n("div",W,"——"+c(k.value)+"「"+c(f.value)+" 」",1)])):_("v-if",!0),x.value?(r(),a("div",q,[C.value?(r(),a("div",A,c(h.value),1)):_("v-if",!0),S.value?(r(),a("div",G,c(d.value),1)):_("v-if",!0)])):_("v-if",!0)])])]))}});const O=D(J,[["__scopeId","data-v-7fdc9c24"],["__file","MyBanner.vue"]]);export{O as default};
